{"version":3,"file":"src_components_Account_Manager_Forms_AccountLinkOauthCallback_tsx.bundle.js","mappings":"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","sources":["webpack://newwebsite/./src/components/Account/Manager/Forms/AccountLinkOauthCallback.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport useSWR from 'swr';\nimport { fetcher } from '../../../../api/http';\nimport Cookies from 'js-cookie';\nimport { toast } from 'react-toastify';\nimport Loading from '../../../Elements/Loading';\nimport AccountContainer from '../AccountContainer';\nimport { config } from '../../../../config/config';\n\n\nexport default function AccountLinkOauthCallback() {\n    const [loading, setLoading] = useState(false);\n    const urlParams = new URLSearchParams(window.location.search);\n    const type = urlParams.get('type');\n    const code = urlParams.get('code');\n    const { mutate } = useSWR(\n        `${config.privateapilink}/auth/isLogged?infos=true`,\n        fetcher\n    );\n    const fetchUrl = `${config.privateapilink}/account/oauthCallback?token=${code}&type=${type}`;\n    const fetchData = async () => {\n        try {\n            const response = await fetch(fetchUrl, {headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${Cookies.get('access_token')}`\n            }});\n            const data = await response.json();\n            setLoading(false);\n            if (data.status === 'success') {\n                toast.success(`You have linked your ${type} account successfully!`, {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: dark ? 'dark' : 'light',\n                });\n                mutate();\n            } else {\n                const message = data.message ? data.message : 'An unexpected error happened.';\n                toast.error(`Error: ${message}`, {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: dark ? 'dark' : 'light',\n                });\n                mutate();\n            }\n        } catch (error) {\n            setLoading(false);\n            toast.error('An unexpected error occurred.', {\n                position: 'bottom-right',\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                theme: dark ? 'dark' : 'light',\n            });\n            mutate();\n        }\n    };\n    fetchData();\n    if (loading) {\n        return <Loading />;\n    }\n\n    return (\n        <div className={'flex flex-col items-center justify-center h-full'}>\n            <AccountContainer/>\n        </div>\n    );\n}\n"],"names":["React","useState","useSWR","fetcher","Cookies","toast","Loading","AccountContainer","config","AccountLinkOauthCallback","loading","setLoading","urlParams","URLSearchParams","window","location","search","type","get","code","mutate","privateapilink","fetchUrl","fetchData","response","fetch","headers","Accept","Authorization","data","json","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","dark","message","error","createElement","className"],"sourceRoot":""}
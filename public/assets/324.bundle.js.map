{"version":3,"file":"324.bundle.js","mappings":"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","sources":["webpack://newwebsite/./src/components/News/NewsContainer.tsx","webpack://newwebsite/./node_modules/debounce/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { config } from \"../../config/config\";\nimport { fetcher } from \"../../api/http\";\nimport Loading from \"../Elements/Loading\";\nimport { number, string } from \"yup\";\nimport { debounce } from \"debounce\";\nimport { Link } from \"react-router-dom\";\nimport LazyLoad from \"react-lazyload\";\ninterface categorie {\n  id: number;\n  name: string;\n  slug: string;\n}\ninterface blog {\n  id: number;\n  author: string;\n  tags: string;\n  title: string;\n  category_id: number;\n  views: number;\n  slug: string;\n  pictures: string;\n  content: string;\n}\n\nexport default function NewsContainer() {\n  const [search, setSearch] = useState<string>('');\n  const [category, setCategory] = useState<string>('');\n  const [page, setPage] = useState<number>(1);\n\n  const {data: blogs, error, mutate, isLoading} = useSWR(`${config.privateapilink}/blogs?search=${search}&category=${category}&page=${page}`, fetcher)\n  const {data: categories, error: error2, isLoading: isLoading2} = useSWR(`${config.privateapilink}/categories`, fetcher)\n\n  if((!blogs || (error || isLoading)) || (!categories || (error2 || isLoading2))) {\n    if(!categories || (error2 || isLoading2)) {\n      return <Loading/>;\n    }\n    return (\n      <>\n        <h1 className='text-center text-4xl mt-4 mb-2'>News</h1>\n        <div className={'text-center'}>\n          <input type=\"text\" placeholder=\"Search a product\" defaultValue={search} className=\"input w-full input-bordered max-w-xs mb-4 \" onChange={(e) => searchValue(e.target.value)} />\n          <select className=\"select select-bordered w-full max-w-xs mx-2 mb-4\" onChange={(e) => setCategory(e.target.value)}>\n            <option disabled selected>Select category</option>\n            {categories.data.map((categorie: categorie, index: number) => {\n              return   <option key={index} value={categorie.id}>{categorie.name}</option>;\n            })}\n          </select>\n        </div>\n        <Loading/>\n\n      </>\n    )\n  }\n  const searchValue = debounce((value: string) => {\n    setSearch(value);\n    setPage(1);\n    mutate()\n  }, 500)\n console.log(blogs)\n  return (\n    <section className={'mx-16'}>\n      <h1 className='text-center text-4xl mt-4 mb-2'>News</h1>\n      <div className={'text-center'}>\n        <input type=\"text\" placeholder=\"Search a product\" defaultValue={search} className=\"input w-full input-bordered max-w-xs mb-4 \" onChange={(e) => searchValue(e.target.value)} />\n        <select className=\"select select-bordered w-full max-w-xs mx-2 mb-4\" onChange={(e) => setCategory(e.target.value)}>\n          <option disabled selected>Select category</option>\n          <option value={''}>All</option>\n          {categories.data.map((categorie: categorie, index: number) => {\n            return   <option key={index} value={categorie.id}>{categorie.name}</option>;\n          })}\n        </select>\n      </div>\n      <div className={'grid grid-cols-1 md:grid-cols-4 xl:grid-cols-5 gap-x-2 gap-y-2'}>\n        {blogs.data.map((blog: blog, index: number) => {\n          return <NewsCard blog={blog} key={index}/>\n        })}\n      </div>\n      <div className=\"text-center mt-4\">\n      <div className=\"join\">\n\n        {page > 2 ?\n          ( <>\n            <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page-2}`} onClick={() => {setPage(page-2); mutate();}} />\n            <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page-1}`} onClick={() => {setPage(page-1); mutate();}} />\n\n          </> )\n          : page > 1 ?\n            ( <>\n              <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page-1}`} onClick={() => {setPage(page-1); mutate();}} />\n\n            </>)\n            :\n            (<></>)\n        }\n        <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page}`} checked />\n        {page+2 <= blogs.totalPage ?\n          ( <>\n            <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page+1}`} onClick={() => {setPage(page+1); mutate();}} />\n            <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page+2}`} onClick={() => {setPage(page+2); mutate();}} />\n          </>)\n        : page+1 <= blogs.totalPage ?\n            ( <>\n              <input className=\"join-item btn btn-square outline-0\" type=\"radio\" name=\"options\" aria-label={`${page+1}`} onClick={() => {setPage(page+1); mutate();}} />\n            </>)\n        : (<></>)}\n\n      </div>\n    </div>\n    </section>\n  )\n}\n\n\nfunction NewsCard({blog}: {blog: blog}) {\n  const [imageError, setImageError] = useState(false);\n  console.log(JSON.parse(blog.pictures)[0])\n  return (\n    <Link to={`/news/${blog.id}`}>\n    <div className=\"card card-compact hover:bg-base-200 transition-all duration-200 hover:-translate-y-1 min-h-full\">\n      <figure className={'px-4 pt-4'}>\n            <LazyLoad>\n              <img\n                src={imageError ? \"https://placehold.co/800x418\" : \"https://privateapi.bagou450.com\" + JSON.parse(blog.pictures)[0]}\n                alt={blog.title + \" picture\"}\n                className='border-base-content bg-base-300 rounded-lg border border-opacity-5'\n                onError={() => setImageError(true)}\n              />\n            </LazyLoad>\n\n      </figure>\n      <div className=\"card-body\">\n        <h2 className=\"card-title\">{blog.title}\n        </h2>\n        <p className={'text-xs opacity-60'}>{blog.slug}\n        </p>\n      </div>\n    </div>\n\n    </Link>\n  )\n}","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n"],"names":["React","useState","useSWR","config","fetcher","Loading","debounce","Link","LazyLoad","NewsContainer","search","setSearch","category","setCategory","page","setPage","data","blogs","error","mutate","isLoading","privateapilink","categories","error2","isLoading2","createElement","Fragment","className","type","placeholder","defaultValue","onChange","e","searchValue","target","value","disabled","selected","map","categorie","index","key","id","name","console","log","blog","NewsCard","onClick","checked","totalPage","_ref","imageError","setImageError","JSON","parse","pictures","to","src","alt","title","onError","slug"],"sourceRoot":""}
{"version":3,"file":"153.bundle.js","mappings":"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","sources":["webpack://newwebsite/./src/api/shop/getInvoiceDownloadLink.ts","webpack://newwebsite/./src/components/Account/Order/AccountOrderContainer.tsx"],"sourcesContent":["import { config } from '../../config/config';\nimport http from '../http';\n\n\nconst getInvoiceDownloadLink = (order: number): Promise<any> => {\n    return new Promise((resolve, reject) => {\n        http\n            .get(`${config.privateapilink}/orders/downloadInvoiceLink/${order}`)\n            .then((data) => resolve(data))\n            .catch(reject);\n    });\n};\n\nexport default getInvoiceDownloadLink;","import React, { useContext, useEffect, useState } from 'react';\nimport useSWR from 'swr';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { fetcher } from '../../../api/http';\nimport getDownloadLink from '../../../api/shop/getDownloadLink';\nimport { toast } from 'react-toastify';\nimport { config } from '../../../config/config';\nimport Cookies from 'js-cookie';\nimport getInvoiceDownloadLink from '../../../api/shop/getInvoiceDownloadLink';\nimport Loading from '../../Elements/Loading';\nimport { NavContext } from '../AccountRouter';\n\n\ninterface OrderItem {\n    products: { name: string }[];\n    price: number;\n    status: string;\n    order_id: number;\n    stripe_id: string;\n}\n\n\nexport default function AccountOrderContainer() {\n    const [page, setPage] = useState<number>(1);\n\n    const { data, error, isLoading } = useSWR(\n        `${config.privateapilink}/orders?page=${page}`,\n        fetcher\n    );\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const { setActive } = useContext(NavContext);\n    useEffect(() => {\n        setActive(window.location.pathname);\n    }, []);\n    if (!data || (error || isLoading)) {\n        return <Loading/>;\n    }\n\n    document.title = 'Bagou450 - My orders';\n    console.log(data);\n    return (\n        <>\n\n            <div className=\"px-4 sm:px-6 lg:px-8\">\n\n                <div className=\"sm:flex sm:items-center\">\n                    <div className=\"sm:flex-auto\">\n                        <h1 className=\"text-base font-semibold leading-6 text-gray-900\">Orders</h1>\n                        <p className=\"mt-2 text-sm text-gray-700\">\n                            You are on the <strong className=\"font-semibold text-gray-900\">orders</strong> page.\n                            You can here see all your orders.\n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"-mx-4 mt-2 ring-1 ring-gray-300 sm:mx-0 sm:rounded-lg\">\n                    <table className=\"min-w-full divide-y divide-gray-300\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\" className=\"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6 hidden lg:table-cell\">\n                                Id\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 table-cell\"\n                                >\n                                Product\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 hidden lg:table-cell\"\n                                >\n                                Status\n                                </th>\n                                <th\n                                    scope=\"col\"\n                                    className=\" px-3 py-3.5 text-left text-sm font-semibold text-gray-900 table-cell\"\n                                >\n                                Price\n                                </th>\n                                <th scope=\"col\" className=\"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 hidden lg:table-cell\">\n                                Transaction Id\n                                </th>\n                                <th scope=\"col\" className=\"relative py-3.5 pl-3 pr-4 sm:pr-6\">\n                                    <span className=\"sr-only\">Select</span>\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {data.data.orders.map((order: OrderItem, planIdx: number) => (\n                                <OrderRow order={order} index={planIdx} key={planIdx}/>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <nav\n                className=\"flex items-center justify-between lg:border-t lg:border-gray-200 px-4 py-3 sm:px-6 my-2\"\n                aria-label=\"Pagination\"\n            >\n                <div className=\"hidden sm:block\">\n                    <p className=\"text-sm text-gray-700\">\n                        Showing <span className=\"font-medium\">{page*10-10}</span> to <span className=\"font-medium\">{page*10}</span> of{' '}\n                        <span className=\"font-medium\">{data.data.total}</span> results\n                    </p>\n                </div>\n                <div className=\"flex flex-1 justify-between sm:justify-end\">\n                    <button\n                        onClick={() => setPage(page-1)}\n                        disabled={page < 2}\n                        className={`${page < 2 && 'opacity-50'} relative inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-offset-0`}\n                    >\n                        Previous\n                    </button>\n                    <button\n                        onClick={() => setPage(page+1)}\n                        disabled={page*10 >= data.data.total}\n                        className={`${page*10 >= data.data.total && 'opacity-50'} relative ml-3 inline-flex items-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-offset-0`}\n                    >\n                        Next\n                    </button>\n                </div>\n            </nav>\n        </>\n    );\n}\n\nfunction OrderRow({order, index}: {order: OrderItem, index: number}) {\n    const [loading, setLoading] = useState<boolean>(false);\n    const orderid = order.order_id;\n\n    const downloadProduct = () => {\n        setLoading(true);\n        toast.info('Please wait during the generation of the file...', {\n            position: 'bottom-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n        });\n        getDownloadLink(orderid).then((data) => {\n            fetch(`${config.privateapilink}${data.data.data}`, {\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest',\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${Cookies.get('access_token')}`\n                }\n            }).then(response => response.blob()).then(blob => {\n                if(blob.type === 'application/json') {\n                    return toast.error('An unexcepted error happend. Please contact one of our support team.', {\n                        position: 'bottom-right',\n                        autoClose: 5000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                        theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                    });\n                }\n                const url = window.URL.createObjectURL(new Blob([blob]));\n                const link = document.createElement('a');\n                link.href = url;\n                link.setAttribute('download', `Bagou450-${orderid}.zip`);\n                document.body.appendChild(link);\n                link.addEventListener('load', () => {\n                    URL.revokeObjectURL(url);\n                });\n                link.click();\n                if (link.parentNode) {\n                    link.parentNode.removeChild(link);\n                }\n                toast.success('Your file is now downloaded!', {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                });\n            }).catch(() => {\n                toast.error('An unexcepted error happend. Please contact one of our support team.', {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                });\n                setLoading(false);\n            });\n\n        }).catch(() => {\n            toast.error('An unexcepted error happend. Please contact one of our support team.', {\n                position: 'bottom-right',\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n                theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n            });\n\n        });\n        setLoading(false);\n\n    };\n    const downloadInvoice = () => {\n        setLoading(true);\n\n        getInvoiceDownloadLink(orderid).then((data) => {\n            fetch(`${config.privateapilink}${data.data.data}`, {\n                headers: {\n                    'X-Requested-With': 'XMLHttpRequest',\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: `Bearer ${Cookies.get('access_token')}`\n                }\n            }).then(response => response.blob()).then(blob => {\n                // Téléchargement du fichier blob\n                if(blob.type === 'application/json') {\n                    return toast.error('An unexcepted error happend. Please contact one of our support team.', {\n                        position: 'bottom-right',\n                        autoClose: 5000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                        theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                    });\n                }\n                const url = window.URL.createObjectURL(new Blob([blob]));\n                const link = document.createElement('a');\n                link.href = url;\n                link.setAttribute('download', `${orderid} - Bagou450.pdf`);\n                document.body.appendChild(link);\n                link.click();\n                if (link.parentNode) {\n                    link.parentNode.removeChild(link);\n                }\n                toast.success('Your invoice is now downloaded!', {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                });\n            }).catch(() => {\n                toast.error('An unexcepted error happend. Please contact one of our support team.', {\n                    position: 'bottom-right',\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined,\n                    theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                });\n\n            });\n            setLoading(false);\n        });\n    };\n    return (\n\n\n        <tr key={index}>\n            <td className=\"border-t border-gray-200  px-3 py-3.5 text-sm text-gray-500 hidden lg:table-cell\">\n                <div className=\"font-medium text-gray-900\">{order.order_id}</div>\n            </td>\n            <td className=\"border-t border-gray-200 px-3 py-3.5 text-sm text-gray-500 table-cell\">\n                {order.products.map((item: any, key: number) => (\n                    <p key={key}>{item['name']}</p>\n                ))}\n            </td>\n            <td className={`border-t border-gray-200 px-3 py-3.5 text-sm text-gray-500 hidden lg:table-cell ${order['status'] === 'incomplete' ? 'text-red-500' : order['status'] === 'expired' ? 'text-white' : order['status'] === 'complete' ? 'text-green-500' : ''}`}>\n                {order.status[0].toUpperCase() + order.status.slice(1, order['status'].length)}\n            </td>\n            <td className=\"border-t border-gray-200 px-3 py-3.5 text-sm text-gray-500 table-cell\">\n                {order.price}\n            </td>\n            <td className=\"border-t border-gray-200 hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell\"\n                onClick={() => {\n                    navigator.clipboard.writeText(order.stripe_id);\n                    toast.success('Transaction id copied to clipboard.', {\n                        position: 'bottom-right',\n                        autoClose: 5000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                        theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n                    });\n                }}>\n                {order.stripe_id.slice(0,32)}{order.stripe_id.length > 32 && '...'}\n            </td>\n\n            <td className=\"border-t border-gray-200 px-3 py-3.5 text-sm text-gray-500 table-cell\">\n                <button\n                    className=\"inline-flex items-center rounded-md bg-purple-600 px-2.5 py-1.5 mb-1 text-sm font-semibold text-white shadow-sm hover:opacity-50 disabled:cursor-not-allowed disabled:opacity-30 disabled:hover:bg-white\"\n                    onClick={() => downloadInvoice()}\n                    disabled={loading}\n                >\n                    Download invoice\n                </button>\n                <br />\n                <button\n                    className=\"inline-flex items-center rounded-md bg-blue-600 px-2.5 py-1.5 mb-1 text-sm font-semibold text-white shadow-sm hover:opacity-50 disabled:cursor-not-allowed disabled:opacity-30 disabled:hover:bg-white\"\n                    onClick={() => downloadProduct()}\n                    disabled={loading}\n                >\n                    Download product{order.products.length > 1 && 's'}\n                </button>\n            </td>\n        </tr>\n\n    );\n}"],"names":["config","http","getInvoiceDownloadLink","order","Promise","resolve","reject","get","concat","privateapilink","then","data","catch","React","useContext","useEffect","useState","useSWR","fetcher","getDownloadLink","toast","Cookies","Loading","NavContext","AccountOrderContainer","_useState","_useState2","_slicedToArray","page","setPage","_useSWR","error","isLoading","_useContext","setActive","window","location","pathname","createElement","document","title","console","log","Fragment","className","scope","orders","map","planIdx","OrderRow","index","key","total","onClick","disabled","_ref","_useState3","_useState4","loading","setLoading","orderid","order_id","downloadProduct","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","matchMedia","matches","fetch","headers","Accept","Authorization","response","blob","type","url","URL","createObjectURL","Blob","link","href","setAttribute","body","appendChild","addEventListener","revokeObjectURL","click","parentNode","removeChild","success","downloadInvoice","products","item","status","toUpperCase","slice","length","price","navigator","clipboard","writeText","stripe_id"],"sourceRoot":""}
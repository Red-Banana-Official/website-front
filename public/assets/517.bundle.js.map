{"version":3,"file":"517.bundle.js","mappings":"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","sources":["webpack://newwebsite/./src/components/Account/Manager/Forms/AccountLinkOauthCallback.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport useSWR from \"swr\";\nimport { fetcher } from \"../../../../api/http\";\nimport Cookies from \"js-cookie\";\nimport { toast } from \"react-toastify\";\nimport Loading from \"../../../Elements/Loading\";\nimport AccountContainer from \"../AccountContainer\";\nimport { config } from \"../../../../config/config\";\n\n\nexport default function AccountLinkOauthCallback() {\n  const [loading, setLoading] = useState(false);\n  const urlParams = new URLSearchParams(window.location.search);\n  const type = urlParams.get('type')\n  const code = urlParams.get('code');\n  const { mutate } = useSWR(\n    `${config.privateapilink}/auth/isLogged?infos=true`,\n    fetcher\n  );\n  const fetchUrl = `${config.privateapilink}/account/oauthCallback?token=${code}&type=${type}`;\n  const fetchData = async () => {\n    try {\n      const response = await fetch(fetchUrl, {headers: {\n          'X-Requested-With': 'XMLHttpRequest',\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${Cookies.get('access_token')}`\n        }});\n      const data = await response.json();\n      setLoading(false);\n      if (data.status === 'success') {\n        toast.success(`You have linked your ${type} account successfully!`, {\n          position: 'bottom-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n        });\n        mutate();\n      } else {\n        const message = data.message ? data.message : 'An unexpected error happened.';\n        toast.error(`Error: ${message}`, {\n          position: 'bottom-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n        });\n        mutate();\n      }\n    } catch (error) {\n      setLoading(false);\n      toast.error('An unexpected error occurred.', {\n        position: 'bottom-right',\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light',\n      });\n      mutate();\n    }\n  };\n  fetchData();\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className={'flex flex-col items-center justify-center h-full'}>\n      <AccountContainer/>\n    </div>\n  )\n}\n"],"names":["React","useState","useSWR","fetcher","Cookies","toast","Loading","AccountContainer","config","AccountLinkOauthCallback","loading","setLoading","urlParams","URLSearchParams","window","location","search","type","get","code","mutate","privateapilink","fetchUrl","fetchData","response","fetch","headers","Accept","Authorization","data","json","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","matchMedia","matches","message","error","createElement","className"],"sourceRoot":""}
{"version":3,"file":"517.bundle.js","mappings":"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","sources":["webpack://newwebsite/./src/components/Account/Manager/Forms/AccountLinkOauthCallback.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport useSWR from \"swr\";\nimport { fetcher } from \"../../../../api/http\";\nimport Cookies from \"js-cookie\";\nimport { toast } from \"react-toastify\";\nimport Loading from \"../../../Elements/Loading\";\nimport AccountContainer from \"../AccountContainer\";\nimport { config } from \"../../../../config/config\";\n\n\nexport default function AccountLinkOauthCallback() {\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const urlParams = new URLSearchParams(window.location.search);\n  const type = urlParams.get('type')\n  const code = urlParams.get('code');\n  const { mutate } = useSWR(\n    `${config.privateapilink}/auth/isLogged?infos=true`,\n    fetcher\n  );\n  const fetchUrl = `${config.privateapilink}/account/oauthCallback?token=${code}&type=${type}`;\n  const fetchData = async () => {\n    try {\n      const response = await fetch(fetchUrl, {headers: {\n          'X-Requested-With': 'XMLHttpRequest',\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${Cookies.get('access_token')}`\n        }});\n      const data = await response.json();\n      setLoading(false);\n      if (data.status === 'success') {\n        toast.success(`You have linked your ${type} account successfully!`, {\n          position: 'bottom-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'dark',\n        });\n        mutate();\n      } else {\n        const message = data.message ? data.message : 'An unexpected error happened.';\n        toast.error(`Error: ${message}`, {\n          position: 'bottom-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'dark',\n        });\n        mutate();\n      }\n    } catch (error) {\n      setLoading(false);\n      toast.error('An unexpected error occurred.', {\n        position: 'bottom-right',\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: 'dark',\n      });\n      mutate();\n    }\n  };\n  fetchData();\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className={'flex flex-col items-center justify-center h-full'}>\n      <AccountContainer/>\n    </div>\n  )\n}\n"],"names":["React","useState","useNavigate","useSWR","fetcher","Cookies","toast","Loading","AccountContainer","config","AccountLinkOauthCallback","loading","setLoading","navigate","urlParams","URLSearchParams","window","location","search","type","get","code","mutate","privateapilink","fetchUrl","fetchData","response","fetch","headers","Accept","Authorization","data","json","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","message","error","createElement","className"],"sourceRoot":""}